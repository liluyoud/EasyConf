N8N_ENCRYPTION_KEY={{EASY_KEY}}
NODE_ENV=production
N8N_METRICS=false
N8N_DIAGNOSTICS_ENABLED=false
N8N_PAYLOAD_SIZE_MAX=16 # em MB
N8N_LOG_LEVEL=info
GENERIC_TIMEZONE={{EASY_TIMEZONE}}
N8N_DEFAULT_LOCALE=pt-BR
NODE_OPTIONS=--max-old-space-size=4096

#N8N_HOST=$(PRIMARY_DOMAIN)
#N8N_PROTOCOL=https
#N8N_PORT=5678
N8N_EDITOR_BASE_URL=https://{{EASY_SUFIX}}{{EASY_N8N}}.{{EASY_DOMAIN}}
WEBHOOK_URL=https://{{EASY_SUFIX}}{{EASY_N8N_WEBHOOK}}.{{EASY_DOMAIN}}

DB_TYPE=postgresdb
DB_POSTGRESDB_DATABASE=n8n
DB_POSTGRESDB_HOST={{EASY_PROJECT}}_postgres
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_USER=postgres
DB_POSTGRESDB_PASSWORD={{EASY_PASSWORD}}

EXECUTIONS_MODE=queue
QUEUE_BULL_REDIS_HOST={{EASY_SUFIX}}_redis
QUEUE_BULL_REDIS_PORT=6379
QUEUE_BULL_REDIS_DB={{EASY_REDIS_N8N}}
QUEUE_BULL_REDIS_PASSWORD={{EASY_PASSWORD}}
EXECUTIONS_TIMEOUT=-1

N8N_EXTERNAL_STORAGE_S3_HOST={{EASY_SUFIX}}{{EASY_MINIO_S3}}.{{EASY_DOMAIN}}
N8N_EXTERNAL_STORAGE_S3_BUCKET_NAME=n8n
N8N_EXTERNAL_STORAGE_S3_BUCKET_REGION=us-east-1
N8N_EXTERNAL_STORAGE_S3_ACCESS_KEY={{EASY_MINIO_KEY}}
N8N_EXTERNAL_STORAGE_S3_ACCESS_SECRET={{EASY_MINIO_ACCESS}}

N8N_VERSION_NOTIFICATIONS_ENABLED=true
N8N_PUBLIC_API_SWAGGERUI_DISABLED=false
N8N_TEMPLATES_ENABLED=true
N8N_ONBOARDING_FLOW_DISABLED=false
N8N_WORKFLOW_TAGS_DISABLED=false
N8N_HIDE_USAGE_PAGE=false

EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=168 # em horas (1 semana)
EXECUTIONS_DATA_PRUNE_HARD_DELETE_INTERVAL=15 # em minutos
EXECUTIONS_DATA_PRUNE_SOFT_DELETE_INTERVAL=60 # em minutos

NODE_FUNCTION_ALLOW_BUILTIN=*
NODE_FUNCTION_ALLOW_EXTERNAL=moment,lodash,moment-with-locales
N8N_COMMUNITY_PACKAGES_ENABLED=true
N8N_REINSTALL_MISSING_PACKAGES=true

N8N_EMAIL_MODE=smtp
N8N_SMTP_HOST={{EASY_SMTP_HOST}}
N8N_SMTP_PORT={{EASY_SMTP_PORT}}
N8N_SMTP_USER={{EASY_SMTP_USERNAME}}
N8N_SMTP_PASS={{EASY_SMTP_USERNAME}}
N8N_SMTP_SENDER={{EASY_SMTP_SENDER}}
N8N_SMTP_SSL={{EASY_SMTP_SSL}}